<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Juego Retro 2D</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div id="game-wrapper">
        <!-- UI para mostrar los recursos -->
        <div id="ui-container">
            <div id="resources-container">
                <div class="ui-option" id="woodCount">
                    <img src="./sprites/ui/wood_resource.png" alt="Madera" width="24" height="24">
                    <span id="woodValue"></span>
                </div>
                <div class="ui-option" id="stoneCount">
                    <img src="./sprites/ui/stone_resource.png" alt="Piedra" width="24" height="24">
                    <span id="stoneValue"></span>
                </div>
            </div>
            <!-- A la derecha -->
            <div style="display: flex; gap: 10px;">
                <div id="mapaMundi" class="ui-option">
                    <img src="./sprites/ui/planeta-tierra.png" alt="Mapa Mundi" width="24" height="24">
                </div>
                
                <div id="soundSettings" class="ui-option" style="position: relative;">
                    <img src="./sprites/ui/sound.png" alt="Sonido" width="24" height="24">
                    <div id="volumeDropdown">
                        <label>
                            Música:
                            <input type="range" id="musicVolumeSlider" min="0" max="1" step="0.01">
                        </label>
                        <br>
                        <label>
                            Efectos:
                            <input type="range" id="effectsVolumeSlider" min="0" max="1" step="0.01">
                        </label>
                    </div>
                </div>

                <div id="wiki" class="ui-option">
                    <img src="./sprites/ui/wiki.png" alt="Wiki" width="24" height="24">
                </div>
                <div id="fullScreenButton" class="ui-option">
                    <img src="./sprites/ui/full_screen.png" alt="Pantalla completa" width="24" height="24">
                </div>
            </div>
        </div>

        <!-- UI para mostrar el quiz de preguntas. -->
        <div id="quiz-container">
            <span id="question"></span>
            <div id="answers-container">

            </div>
        </div>

        <!-- UI para mostrar el globo de diálogo. -->
        <div id="dialog-container" style="display: none;">
            <div id="dialog"></div>
        </div>

        <!-- Para mostrar el Mapa Mundi -->
        <div id="mapaMundi-container" style="display: none;">
            <div id="mapaMundi-header">
                <button id="backButton">Volver</button>
                <h1>MAPAS</h1>
            </div>

            <!-- Contenedor para líneas -->
            <div id="mapaMundi-lines"></div>

            <!-- Contenedor de los mapas (dinámico) -->
            <div id="mapaMundi-maps"></div>

        </div>


        <!-- Contenedor Wiki (Contenido en wikiModal.js)-->
        <div id="wiki-container"></div>

        <!-- Modales del tutorial -->
        <div id="tutorialModal1" class="modal" style="display: none;">
            <div class="modal-content">
                <h2>¡Bienvenido a Rise of Knowledge!</h2>
                <p>Usa las teclas de flecha para moverte por el mundo.</p>
                <button id="nextModal1">Siguiente</button>
            </div>
        </div>

        <div id="tutorialModal2" class="modal" style="display: none;">
            <div class="modal-content">
                <h2>Interactúa con el entorno</h2>
                <p>Acércate a los árboles y rocas, luego presiona la barra espaciadora para interactuar.</p>
                <button id="nextModal2">Siguiente</button>
            </div>
        </div>

        <div id="tutorialModal3" class="modal" style="display: none;">
            <div class="modal-content">
                <h2>¡Aprende habilidades!</h2>
                <p>Habla con los personajes para aprender nuevas habilidades.</p>
                <button id="closeTutorial">¡Entendido!</button>
            </div>
        </div>

        <div>
            <!-- Canvas. -->
            <canvas id="gameCanvas" width="800" height="608"></canvas>
        </div>

    </div>

    <!-- Portada -->
    <div id="start-screen">
        <h1>RISE OF KNOWLEDGE</h1>
        <button id="start-button">COMENZAR</button>
    </div>

    <!-- Pantalla de carga -->
    <div id="loading-screen" style="display: none;">
        <img id="loading-gif" src="./sprites/ui/loader.gif" alt="Cargando..." />
        <div class="loading-text">Cargando Mundo...</div>
    </div>

    <!-- Importamos los scripts. -->
    <script type="module" src="game.js"></script>
    <script src="../../../assets/js/config.js"></script>
    <script src="../../../assets/js/components/logger.js"></script>
    <script src="../../../assets/js/components/http-client.js"></script>
    <script src="../../../assets/js/course.js"></script>
</body>

</html>